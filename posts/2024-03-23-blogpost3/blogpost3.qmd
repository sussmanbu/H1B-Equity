---
title: "blog-post-3"
author: ""
description:  |
  This post details basic explore data exploration.
date: "2024-04-5"
date-modified: "2024-03-23"
draft: FALSE
---


1. Further cleaning: we discovered that one of the countries of the `Unknown` continent, `United Nations Laissez-Passer`, contained only empty rows. This suggests that this `Country` value might have had some nonzero values for some non-H1B visa types in the original dataset, but since it has zero H1B visas given to it over all the years, we deleted this row.
This 'United Nations Laissez-Passer' is a document held by diplomats to make travelling between countries easier.

2. Data exploration: We did some preliminary comparisons between the continents and countries to see how the number of recipients has changed in proportion between 1997 and 2022. It is clear that across all countries, there was a significant decrease in H1B recpients throughout the Covid pandemic. The number of recipients with 'Unknown Nationality' has decreased to almost none since 1997. Africa, Europe, Oceania, and South America all have decreased in sponshorship throughout this time period, whereas Asia has increased. Asia also is the largest recipient of sponsorship by a significant proportion, as the continent receives between 50-80% of the administered visas in this time period. A good next step would be to normalize these proportions by population of each of these continents.

```{r}
#run this if you don't have the magick package installed
#install.packages("magick")
#make sure to comment install.package out before creating gh-pages.
```

```{r}
library(magick)
image1 <- image_read('images/total_bar_stacked.png')
plot(image1)
```
Observation:
we see a positive trend on the number of H1B approvals. As the year progresses, the number of H1B approvals continue to rise.
However, we notice that there exist a sharp drop in year 2020 and 2021 particularly due to covid. Next, it spikes back up in year 2022. From this plot, we also see that Asia has been the consistent country where H1B approvals happen the most.

```{r}
image2 <- image_read('images/total_bar.png')
plot(image2)
```
Observation:
For this side by side comparison of H1B approvals and other countries, we get to observe the trend of each countries.
It seems like Asia has been getting positive trends since year 1997 till 2022 except 2020 and 2021 due to covid. In contrast, other countries like Europe, South America, Oceania and Africa have all been trending downward for H1B approval. It can be worth to understand what factors contribute to the trends.
```{r}
image3 <- image_read('images/percent_bar_faceted.png')
plot(image3)
```
Observation:
The last plot shows similar content to plot 2. However, with percentage being display, we see that Asia out numbered all other countries combined in terms of H1B approval and Europe comes in second place.